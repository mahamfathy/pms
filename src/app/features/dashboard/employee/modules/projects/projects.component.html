<section *ngIf="dataSource">
  <div class="bg-white p-4">
    <h1>Projects</h1>
  </div>
  <div class="container px-3">
    <div class="d-flex align-items-center gap-4 px-3 py-2">
      <div>
        <!-- filterName == 'title'; else status -->
        <mat-form-field>
          <mat-label
            ><i class="fa-solid fa-magnifying-glass pe-2"></i> Search</mat-label
          >

          <input
            [(ngModel)]="searchName"
            (keydown.enter)="getProjects()"
            matInput
            placeholder="Title"
            #input
          />
        </mat-form-field>
      </div>
    </div>

    <table
      (matSortChange)="sortData($event)"
      matSort
      class="w-100 mat-elevation-z8"
    >
      <thead>
        <tr class="header">
          <th mat-sort-header="title">Title</th>
          <th mat-sort-header="description">description</th>
          <th mat-sort-header="modificationDate">Modification date</th>
          <th mat-sort-header="Num Tasks">Num Tasks</th>
          <th mat-sort-header="creationDate">Creation date</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let item of sortedData; let i = index"
          [ngClass]="{ 'even-row': i % 2 === 0 }"
        >
          <td>{{ item.title }}</td>

          <td>
            {{ item.description }}
          </td>
          <td>{{ item.modificationDate | date : "short" }}</td>
          <td>{{ item.task.length }}</td>
          <td>{{ item.creationDate | date : "short" }}</td>
        </tr>
      </tbody>
    </table>

    <mat-paginator
      (page)="handlePageEvent($event)"
      [length]="numRows"
      [pageIndex]="pageNumber - 1"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 25, 100]"
      aria-label="Select page"
    >
    </mat-paginator>
  </div>
</section>
